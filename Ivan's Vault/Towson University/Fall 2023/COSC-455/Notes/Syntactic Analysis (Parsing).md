#fall2023 #COSC-455 
### Syntactic Analysis (Parsing)

#### Definition
- Syntactic analysis, often referred to as parsing, is the phase in a compiler or interpreter where the token stream produced by the lexical analyzer is processed to generate an [[Abstract Syntax Tree]].

> Syntactic analysis is the phase that validates the structure of the source code and generates a hierarchical representation (usually an AST). This is crucial for understanding the organization of the code and for later phases in a compiler or interpreter pipeline.
  
#### Objectives
1. Validate the syntax of the program.
2. Generate a structure (often an AST) that represents the syntactic organization of the code.
  
#### Types of Parsers
1. **Top-Down Parsers**: Start from the highest-level syntax rule (usually the 'start symbol') and work their way down.
   - **Recursive Descent** is a common type of top-down parser.
2. **Bottom-Up Parsers**: Start with the input tokens and work their way up to the start symbol.
   - **LR parsers** like **YACC** ([[Yet Another Compiler Compiler]]) fall into this category.

#### Elements
1. **Grammar**: Set of production rules defining the language.
2. **Parse Tree**: Temporary, complete tree that may be generated as an intermediate step before creating the AST.
  
#### Steps in Syntactic Analysis
1. **Read Tokens**: The parser takes tokens one by one from the output of the lexical analyzer.
2. **Apply Grammar Rules**: The parser applies the grammar rules of the language to generate a parse tree or directly an AST.
3. **Error Handling**: If the tokens do not match any of the production rules, a syntax error is generated.
4. **Generate AST**: Simplifies the parse tree to an AST, eliminating redundant information.

#### Example with Given Snippet
For the snippet:
```java
while x < 10 do
	x := x - 1
```
The syntactic analysis phase would:
1. Recognize that `while x < 10 do` forms a valid `while` loop header.
2. Recognize that `x := x - 1` is an assignment statement.
3. Construct an AST representing this structure.

#### Challenges
1. **Ambiguity**: Some languages have ambiguous grammars, meaning certain strings could be generated by more than one sequence of production rules.
2. **Error Recovery**: How to continue parsing even if a syntax error is detected, to find further errors.
  
#### Emacs Lisp for Parsing
You can implement a parser in Emacs Lisp using its built-in list manipulation capabilities to construct the AST.
  
```lisp
(defun parse-tokens (tokens))
```
